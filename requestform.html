<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JobTrust Connect — Caregiving Service Intake Form</title>
  <meta name="description" content="Caregiving intake form for JobTrust Connect (55, Abeokuta Road, Ijebu-Ode). Submit to Google Sheet & email." />

  <!-- Minimal, modern CSS (no external libs) -->
  <style>
    :root{
      --bg: #f6f7fb;
      --card: #ffffff;
      --text: #0f1724;
      --muted: #556076;
      --accent: #6b73ff;
      --accent-2: #00b894;
      --shadow: 0 8px 30px rgba(16,24,40,0.06);
      --radius: 14px;
      --gap: 18px;
    }
    [data-theme="dark"]{
      --bg:#0b1020;
      --card:#0f1724;
      --text:#e6eef8;
      --muted:#9aa6c1;
      --accent:#7c8bff;
      --accent-2:#3bd3a2;
      --shadow: 0 10px 30px rgba(2,6,23,0.7);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,var(--bg), rgba(0,0,0,0.02));
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:34px;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      min-height:100vh;
    }

    .container{
      max-width:1000px;
      width:100%;
      display:grid;
      grid-template-columns: 380px 1fr;
      gap:28px;
      align-items:start;
    }

    /* card */
    .card{
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:22px;
    }

    header.brand{
      display:flex;
      gap:12px;
      align-items:center;
      margin-bottom:12px;
    }
    .logo{
      width:64px;height:64px;border-radius:12px;
      display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      color:white;font-weight:700;font-size:20px;
      box-shadow: 0 6px 18px rgba(99,102,241,0.18);
      flex-shrink:0;
    }
    .brand h1{margin:0;font-size:18px;}
    .brand p{margin:0;color:var(--muted);font-size:13px}

    .meta{font-size:13px;color:var(--muted);line-height:1.45;margin-top:14px}
    .hint{font-size:13px;color:var(--muted);margin-top:8px}

    /* Form column */
    .form-wrap{padding:22px}
    form{display:grid;gap:14px}
    .section-title{
      display:flex;align-items:center;justify-content:space-between;
      gap:12px;
      margin-top:6px;margin-bottom:2px;
    }
    .section-title h2{margin:0;font-size:15px}
    .section-title .small{font-size:12px;color:var(--muted)}

    .grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:12px;
    }
    .full{grid-column:1/-1}
    label{display:block;font-size:13px;margin-bottom:6px;color:var(--muted)}
    input[type="text"], input[type="email"], input[type="tel"], input[type="date"], select, textarea {
      width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(15,23,36,0.06);
      background:transparent;color:var(--text);
      font-size:14px;
      outline:none;
      box-shadow:none;
    }
    [data-theme="dark"] input, [data-theme="dark"] textarea, [data-theme="dark"] select {
      border:1px solid rgba(255,255,255,0.06);
      background: rgba(255,255,255,0.02);
    }
    textarea{min-height:88px;resize:vertical;padding-top:8px}

    .check-row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .check-row label{margin:0;color:var(--muted);font-size:13px}
    .small-note{font-size:12px;color:var(--muted)}

    .actions{
      display:flex;gap:12px;align-items:center;margin-top:8px;
    }
    button.primary{
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:white;border:0;padding:10px 16px;border-radius:10px;font-weight:600;
      cursor:pointer;box-shadow: 0 8px 24px rgba(99,102,241,0.12);
    }
    button.ghost{
      background:transparent;border:1px solid rgba(15,23,36,0.08);padding:10px 14px;border-radius:10px;cursor:pointer;color:var(--muted);
    }

    /* Right column: preview / help */
    .info{
      display:flex;flex-direction:column;gap:12px;
      min-height:300px;
    }
    .info .card{padding:18px}
    .contact{
      display:flex;flex-direction:column;gap:6px;font-size:13px;color:var(--muted)
    }
    .contact b{color:var(--text)}
    footer.note{font-size:12px;color:var(--muted);margin-top:8px}

    /* responsive */
    @media (max-width:980px){
      .container{grid-template-columns:1fr; padding:16px}
      .form-wrap{padding:16px}
      .grid{grid-template-columns:1fr}
    }

    /* small switch */
    .switch{
      display:inline-flex;align-items:center;gap:8px;cursor:pointer;
      user-select:none;font-size:13px;color:var(--muted)
    }
    .switch .box{
      width:44px;height:26px;border-radius:999px;background:rgba(15,23,36,0.06);position:relative;
      display:inline-block;vertical-align:middle;
    }
    .switch .dot{
      width:20px;height:20px;border-radius:50%;background:white;position:absolute;top:3px;left:3px;
      transition:all .28s;
      box-shadow:0 4px 10px rgba(2,6,23,0.12);
    }
    [data-theme="dark"] .switch .box{background:rgba(255,255,255,0.06)}
    [data-theme="dark"] .switch.on .dot{left:21px;background:var(--accent-2)}
    .required{color:#d23f4a;margin-left:6px}
  </style>
</head>
<body data-theme="light">
  <div class="container">
    <!-- Left column: brand + contact -->
    <div class="card">
      <div class="brand">
        <div class="logo">JT</div>
        <div>
          <h1>JobTrust Connect</h1>
          <p>Caregiving Service Intake • 55, Abeokuta Road, Ijebu-Ode, Ogun State, Nigeria</p>
        </div>
      </div>

      <div class="meta">
        <div><strong>Email:</strong> jobtrustconnect@gmail.com</div>
        <div><strong>WhatsApp:</strong> +2349131697494</div>
        <div><strong>Direct Call:</strong> +2348168551627</div>
      </div>

      <div class="hint">Please fill the form on the right with accurate information. Fields marked <span class="required">*</span> are required.</div>

      <div style="margin-top:14px" class="contact">
        <div><strong>Office:</strong> 55, Abeokuta Road, Ijebu-Ode, Ogun State</div>
        <div><strong>Working hours:</strong> Mon–Sat, 8:00am – 6:00pm</div>
      </div>

      <div style="margin-top:14px;font-size:13px;color:var(--muted)">
        We will review your request and contact you to confirm caregiver availability and schedule. All personal and medical information is kept secure.
      </div>

      <div style="margin-top:18px;display:flex;justify-content:space-between;align-items:center">
        <div style="font-size:13px;color:var(--muted)">Theme</div>
        <div id="themeSwitch" class="switch" aria-label="Toggle dark mode" tabindex="0">
          <div class="box"><div class="dot"></div></div>
          <div style="font-size:13px;color:var(--muted);margin-left:6px">Dark</div>
        </div>
      </div>

      <footer class="note">JobTrust Connect — compassionate, professional, personalized care.</footer>
    </div>

    <!-- Right column: form -->
    <div class="card form-wrap">
      <form id="careForm" autocomplete="on">
        <input type="hidden" name="source" value="jobtrust-connect-form">

        <div class="section-title">
          <h2>Section 1 — Personal Information</h2>
          <div class="small">Basic details</div>
        </div>

        <div class="grid">
          <div>
            <label for="fullName">Full Name <span class="required">*</span></label>
            <input id="fullName" name="fullName" type="text" placeholder="Full name" required>
          </div>
          <div>
            <label for="dob">Date of Birth</label>
            <input id="dob" name="dob" type="date" >
          </div>

          <div>
            <label for="gender">Gender</label>
            <select id="gender" name="gender" >
              <option value="">No preference</option>
              <option>Male</option>
              <option>Female</option>
              <option>Other</option>
            </select>
          </div>

          <div>
            <label for="phone">Phone <span class="required">*</span></label>
            <input id="phone" name="phone" type="tel" placeholder="+234..." required>
          </div>

          <div class="full">
            <label for="address">Address</label>
            <input id="address" name="address" type="text" placeholder="Street, city, state">
          </div>

          <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="you@example.com">
          </div>

          <div>
            <label for="emergencyName">Emergency Contact</label>
            <input id="emergencyName" name="emergencyName" type="text" placeholder="Name">
            <input id="emergencyPhone" name="emergencyPhone" type="tel" placeholder="Phone" style="margin-top:8px">
          </div>
        </div>

        <!-- Section 2 -->
        <div class="section-title">
          <h2>Section 2 — Type of Care</h2>
          <div class="small">Choose all that apply</div>
        </div>
        <div class="grid">
          <div class="full">
            <label>Care Types</label>
            <div class="check-row" role="group" aria-label="type of care">
              <label><input type="checkbox" name="careType" value="Elderly Care"> Elderly Care</label>
              <label><input type="checkbox" name="careType" value="Child Care"> Child Care</label>
              <label><input type="checkbox" name="careType" value="Home Nursing"> Home Nursing</label>
              <label><input type="checkbox" name="careType" value="Disability Support"> Disability Support</label>
              <label><input type="checkbox" name="careType" value="Post-Surgery Care"> Post-Surgery Care</label>
              <label><input type="checkbox" name="careType" value="Companion Care"> Companion Care</label>
              <label><input type="checkbox" name="careType" value="Other"> Other</label>
            </div>
          </div>
        </div>

        <!-- Section 3 -->
        <div class="section-title">
          <h2>Section 3 — Care Recipient (if different)</h2>
          <div class="small">Who needs care?</div>
        </div>
        <div class="grid">
          <div>
            <label for="recipientName">Recipient Name</label>
            <input id="recipientName" name="recipientName" type="text">
          </div>
          <div>
            <label for="relationship">Relationship</label>
            <input id="relationship" name="relationship" type="text">
          </div>
          <div class="full">
            <label for="recipientAddress">Recipient Address</label>
            <input id="recipientAddress" name="recipientAddress" type="text">
          </div>
          <div>
            <label for="recipientPhone">Recipient Phone</label>
            <input id="recipientPhone" name="recipientPhone" type="tel">
          </div>
          <div>
            <label for="recipientAge">Age</label>
            <input id="recipientAge" name="recipientAge" type="text" placeholder="e.g., 72">
          </div>
        </div>

        <!-- Section 4 -->
        <div class="section-title">
          <h2>Section 4 — Medical & Health</h2>
          <div class="small">Critical for safe care</div>
        </div>

        <div class="grid">
          <div class="full">
            <label for="conditions">Primary Health Conditions / Diagnosis</label>
            <textarea id="conditions" name="conditions" placeholder="e.g., Diabetes, Hypertension"></textarea>
          </div>
          <div>
            <label for="allergies">Allergies</label>
            <input id="allergies" name="allergies" type="text" placeholder="List allergies">
          </div>
          <div>
            <label for="medications">Medications</label>
            <input id="medications" name="medications" type="text" placeholder="Medication names and times">
          </div>
          <div>
            <label for="mobility">Mobility Level</label>
            <select id="mobility" name="mobility">
              <option value="">Choose</option>
              <option>Independent</option>
              <option>Needs Assistance</option>
              <option>Bedridden</option>
            </select>
          </div>
          <div>
            <label for="equipment">Special Equipment</label>
            <input id="equipment" name="equipment" type="text" placeholder="wheelchair, oxygen, etc.">
          </div>
          <div>
            <label for="doctor">Doctor's Name & Contact</label>
            <input id="doctor" name="doctor" type="text">
          </div>
        </div>

        <!-- Section 5 -->
        <div class="section-title">
          <h2>Section 5 — Care Needs & Preferences</h2>
          <div class="small">How would you like care to be delivered?</div>
        </div>
        <div class="grid">
          <div>
            <label for="prefGender">Preferred Caregiver Gender</label>
            <select id="prefGender" name="prefGender">
              <option value="">No preference</option>
              <option>Male</option>
              <option>Female</option>
            </select>
          </div>
          <div>
            <label for="hoursPerDay">Daily care (hours/day)</label>
            <input id="hoursPerDay" name="hoursPerDay" type="text" placeholder="e.g., 4">
          </div>
          <div class="full">
            <label>Tasks Required</label>
            <div class="check-row" role="group" aria-label="tasks required">
              <label><input type="checkbox" name="tasks" value="Bathing/Grooming"> Bathing / Grooming</label>
              <label><input type="checkbox" name="tasks" value="Feeding/Meal Prep"> Feeding / Meal Prep</label>
              <label><input type="checkbox" name="tasks" value="Medication Reminder"> Medication Reminder</label>
              <label><input type="checkbox" name="tasks" value="Housekeeping/Laundry"> Housekeeping / Laundry</label>
              <label><input type="checkbox" name="tasks" value="Companionship"> Companionship</label>
              <label><input type="checkbox" name="tasks" value="Mobility Support"> Mobility / Exercise Support</label>
              <label><input type="checkbox" name="tasks" value="Other"> Other</label>
            </div>
          </div>
          <div>
            <label for="startDate">Preferred Start Date</label>
            <input id="startDate" name="startDate" type="date">
          </div>
          <div>
            <label for="duration">Duration</label>
            <select id="duration" name="duration">
              <option>One-time</option>
              <option>Weekly</option>
              <option>Monthly</option>
              <option>Ongoing</option>
            </select>
          </div>
        </div>

        <!-- Section 6 -->
        <div class="section-title">
          <h2>Section 6 — Home Environment</h2>
          <div class="small">Important for caregiver planning</div>
        </div>
        <div class="grid">
          <div>
            <label for="residence">Type of Residence</label>
            <select id="residence" name="residence">
              <option>Apartment</option>
              <option>Bungalow</option>
              <option>Duplex</option>
              <option>Other</option>
            </select>
          </div>
          <div>
            <label>Stairs?</label>
            <div class="check-row">
              <label><input type="radio" name="stairs" value="Yes"> Yes</label>
              <label><input type="radio" name="stairs" value="No"> No</label>
            </div>
          </div>
          <div>
            <label>Pets at home?</label>
            <div class="check-row">
              <label><input type="radio" name="pets" value="Yes"> Yes</label>
              <label><input type="radio" name="pets" value="No"> No</label>
            </div>
          </div>
          <div>
            <label>Parking available?</label>
            <div class="check-row">
              <label><input type="radio" name="parking" value="Yes"> Yes</label>
              <label><input type="radio" name="parking" value="No"> No</label>
            </div>
          </div>
        </div>

        <!-- Section 7 -->
        <div class="section-title">
          <h2>Section 7 — Payment & Agreement</h2>
          <div class="small">How payment will be handled</div>
        </div>

        <div class="grid">
          <div>
            <label>Mode of Payment</label>
            <div class="check-row">
              <label><input type="radio" name="paymentMode" value="Cash"> Cash</label>
              <label><input type="radio" name="paymentMode" value="Transfer"> Transfer</label>
              <label><input type="radio" name="paymentMode" value="Other"> Other</label>
            </div>
          </div>
          <div>
            <label for="payer">Who pays?</label>
            <input id="payer" name="payer" type="text">
          </div>
          <div class="full">
            <label for="notes">Additional notes</label>
            <textarea id="notes" name="notes" placeholder="Any additional info or instructions"></textarea>
          </div>
        </div>

        <!-- Consent -->
        <div style="margin-top:6px" class="full">
          <label for="consent">
            <input id="consent" name="consent" type="checkbox" required>
            I consent to JobTrust Connect collecting and using my personal/medical information for service delivery. <span class="required">*</span>
          </label>
        </div>

        <div class="actions">
          <button type="submit" class="primary">Submit Request</button>
          <button type="button" class="ghost" id="downloadPdf">Download as PDF</button>
          <div style="margin-left:auto;font-size:13px;color:var(--muted)" id="status"></div>
        </div>

        <div style="font-size:12px;color:var(--muted);margin-top:6px">
          <strong>Privacy:</strong> Your data is private and used only for caregiving service provision.
        </div>

      </form>
    </div>
  </div>

  <!-- JS: handle theme toggle, submission via webhook (Google Apps Script), fallback to mailto -->
  <script>
    (function(){
      // --- THEME SWITCHER ---
      const body = document.body;
      const themeSwitch = document.getElementById('themeSwitch');
      const statusEl = document.getElementById('status');

      function setTheme(t){
        body.setAttribute('data-theme', t);
        if(t === 'dark') themeSwitch.classList.add('on'); else themeSwitch.classList.remove('on');
      }

      // default from localStorage
      const saved = localStorage.getItem('jt-theme') || 'light';
      setTheme(saved);

      themeSwitch.addEventListener('click', ()=> {
        const current = body.getAttribute('data-theme');
        const next = current === 'light' ? 'dark' : 'light';
        setTheme(next);
        localStorage.setItem('jt-theme', next);
      });
      themeSwitch.addEventListener('keypress', e => { if(e.key === 'Enter') themeSwitch.click(); });

      // --- FORM SUBMISSION LOGIC ---
      const form = document.getElementById('careForm');

      // REPLACE THIS with your deployed Google Apps Script Web App URL (see instructions below)
      const GOOGLE_SCRIPT_URL = ''; // e.g. "https://script.google.com/macros/s/AKfycbx.../exec"

      // fallback email TO
      const EMAIL_TO = 'jobtrustconnect@gmail.com';

      function formToObject(formEl){
        const data = new FormData(formEl);
        // handle multiple checkbox groups as arrays
        const obj = {};
        for (const key of data.keys()){
          const all = data.getAll(key);
          obj[key] = all.length > 1 ? all : all[0];
        }
        return obj;
      }

      async function postToWebhook(url, payload){
        const resp = await fetch(url, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify(payload)
        });
        return resp;
      }

      function openMailClient(formData){
        // build plain-text body
        let body = 'JobTrust Connect - Caregiving Intake Form%0D%0A%0D%0A';
        for(const k in formData){
          let v = formData[k];
          if(Array.isArray(v)) v = v.join(', ');
          body += `${encodeURIComponent(k)}: ${encodeURIComponent(String(v))}%0D%0A`;
        }
        const subject = encodeURIComponent('Caregiving Request — ' + (formData.fullName || 'No name'));
        window.location.href = `mailto:${EMAIL_TO}?subject=${subject}&body=${body}`;
      }

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        statusEl.textContent = 'Submitting...';

        // basic validation
        if (!form.reportValidity()) {
          statusEl.textContent = 'Please complete required fields.';
          return;
        }

        const payload = formToObject(form);

        // prefer Google Apps Script webhook if provided
        if (GOOGLE_SCRIPT_URL && GOOGLE_SCRIPT_URL.trim() !== '') {
          try {
            const r = await postToWebhook(GOOGLE_SCRIPT_URL, payload);
            if (r.ok) {
              statusEl.textContent = 'Submitted successfully — we will contact you soon.';
              form.reset();
            } else {
              // server returned error
              statusEl.textContent = 'Submission failed (server). Using email fallback...';
              openMailClient(payload);
            }
          } catch(err){
            console.error(err);
            statusEl.textContent = 'Network error. Opening email client...';
            openMailClient(payload);
          }
        } else {
          // fallback: open mail client with populated body
          statusEl.textContent = 'No webhook configured — opening email client...';
          openMailClient(payload);
        }
      });

      // PDF download: create a printable version using browser print
      document.getElementById('downloadPdf').addEventListener('click', () => {
        window.print();
      });

      // make sure print layout looks decent
      const style = document.createElement('style');
      style.innerHTML = '@media print { body{padding:10px} .container{grid-template-columns:1fr} .switch, .actions button.ghost{display:none} }';
      document.head.appendChild(style);

    })();
  </script>
</body>
</html>
