<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Job Application Form</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      margin: 0;
      padding: 20px;
    }
    .container {
      background: #222;
      max-width: 750px;
      margin: auto;
      padding: 25px 30px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,0,0,0.6);
    }
    h1, h2 { color: #fff; text-align: center; }
    label { display: block; margin-bottom: 15px; }
    input, select, textarea {
      width: 100%; padding: 10px; margin-top: 5px;
      border-radius: 6px; border: 1px solid #444;
      background: #111; color: #eee;
    }
    input:focus, select:focus, textarea:focus {
      border-color: #4da6ff; outline: none;
    }
    button {
      padding: 12px 25px;
      background-color: #4da6ff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin: 10px 5px 0 0;
      font-weight: bold;
    }
    button:hover { background-color: #1e90ff; }
    .form-section { display: none; }
    .form-section.active { display: block; animation: fadeIn 0.5s ease-in-out; }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(10px);}
      to {opacity: 1; transform: translateY(0);}
    }
    .success-message {
      display: none; background: #1f6f3a; padding: 20px;
      border-radius: 8px; margin-top: 20px; color: #fff; text-align: center;
    }
  .share-container {
  margin-top: 20px;
  position: relative;
}

.share-btn {
  background: #0077cc;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
}

.share-options {
  margin-top: 10px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.share-options a {
  text-decoration: none;
  background: #f4f4f4;
  padding: 6px 12px;
  border-radius: 5px;
  font-size: 13px;
  color: #333;
  border: 1px solid #ddd;
}

.hidden {
  display: none;
}
  </style>
</head>
<body>
  <main class="container">
    <h1>Job Application Form</h1>

    <form id="jobForm">
      <!-- Section 1 -->
      <section class="form-section active" id="section1">
        <h2>Personal Information</h2>
        <label>Full Name <input type="text" name="fullname" required></label>
        <label>Phone Number <input type="tel" name="phoneNumber" required></label>
        <label>Gender
          <select name="gender" required>
            <option value="">Select</option>
            <option>Male</option>
            <option>Female</option>
          </select>
        </label>
        <label>Age <input type="number" name="age" min="18" required></label>
        <label>Marital Status
          <select name="marital_status" required>
            <option value="">Select</option>
            <option>Single</option>
            <option>Married</option>
            <option>Divorced</option>
            <option>Widowed</option>
          </select>
        </label>
        <label>Home Address <textarea name="address" required></textarea></label>
        <button type="button" onclick="previewPDF()">Preview</button>
      </section>
    </form>

    <div class="success-message" id="successMessage">
      ðŸŽ‰ Your application was submitted successfully!
    </div>
  </main>

<script>
  // âœ… Preview PDF before submit
  function previewPDF() {
    const form = document.getElementById("jobForm");
    if (!form.checkValidity()) {
      alert("Please fill all required fields.");
      return;
    }

    const data = Object.fromEntries(new FormData(form));

    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    doc.setFontSize(16);
    doc.text("Job Application Preview", 20, 20);

    let y = 40;
    for (const [key, value] of Object.entries(data)) {
      doc.text(`${key}: ${value}`, 20, y);
      y += 10;
    }

    // Save preview locally
    doc.save("Job_Application_Preview.pdf");

    if (confirm("Do you want to submit this application?")) {
      submitToSheetDB(data);
    }
  }

  // âœ… Submit to SheetDB
  function submitToSheetDB(data) {
    fetch("https://sheetdb.io/api/v1/YOUR_SHEETDB_API_ID", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ data: [data] })
    })
    .then(res => res.json())
    .then(() => {
      document.getElementById("jobForm").style.display = "none";
      document.getElementById("successMessage").style.display = "block";
    })
    .catch(err => alert("Submission failed: " + err));
  }
</script>
  <!-- Share Button -->
<div class="share-container">
  <button class="share-btn">Share This Post</button>
  <div class="share-options hidden">
    <a id="share-facebook" target="_blank">Facebook</a>
    <a id="share-twitter" target="_blank">Twitter</a>
    <a id="share-whatsapp" target="_blank">WhatsApp</a>
    <a id="share-email" target="_blank">Email</a>
  </div>
</div>
  <script>
document.addEventListener("DOMContentLoaded", function() {
  const shareBtn = document.querySelector(".share-btn");
  const shareOptions = document.querySelector(".share-options");

  // Toggle options on button click
  shareBtn.addEventListener("click", () => {
    shareOptions.classList.toggle("hidden");
  });

  // Build share URLs dynamically
  const postTitle = document.querySelector("h1")?.innerText || "Read this post";
  const postUrl = window.location.href;

  document.getElementById("share-facebook").href =
    `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(postUrl)}`;

  document.getElementById("share-twitter").href =
    `https://twitter.com/intent/tweet?text=${encodeURIComponent(postTitle)}&url=${encodeURIComponent(postUrl)}`;

  document.getElementById("share-whatsapp").href =
    `https://wa.me/?text=${encodeURIComponent(postTitle + " " + postUrl)}`;

  document.getElementById("share-email").href =
    `mailto:?subject=${encodeURIComponent(postTitle)}&body=${encodeURIComponent(postUrl)}`;
});
</script>
</body>
</html>
